# ShadowScope — моделирование затенения динамическими объектами

ShadowScope — WPF-приложение для моделирования и визуализации площади тени, создаваемой движущимися сферическими объектами, проходящими через наклонённую плоскость перед экраном. Позволяет анализировать различные распределения и строить графики зависимости тени от времени.

---

<img width="1000" height="956" alt="scheme" src="https://github.com/user-attachments/assets/85b64456-99d4-4ff0-83b8-80426757b2c0" />

## Возможности

- Расчёт траекторий большого количества объектов (до **1 000 000**).
- Поддержка распределений:
  - **Равномерное**
  - **Нормальное (Box–Muller)**
  - **Рэлея**
- Многопоточная вычислительная физика.
- Визуализация результатов через **OxyPlot**:
  - непрерывная линия без маркеров,
  - автоматическое масштабирование,
  - отзывчивое изменение размера.
- Отображение прогресса расчётов.
- Настраиваемые параметры сцены:
  - толщина плоскости,
  - угол наклона,
  - расстояние до экрана,
  - диаметр шаров,
  - скорость,
  - количество.

---

## Используемые формулы

### Нормальное распределение (Box–Muller)

```math
z = \sqrt{-2 \ln u_1} \cos(2\pi u_2)
```
```math
x=Clamp(0.5+z⋅0.15,0,1)
```
Распределение Рэлея
```math
r=σ
−2ln(1−u)
	​
```
```math
x=Clamp(r,0,1)
```
## Запуск

1. Открыть проект в Visual Studio 2022.

2. Убедиться, что установлен пакет:
   ` OxyPlot.Wpf `
4. Запустить проект: Debug → Start Debugging или F5.

## Графики

Используется:

`<oxy:PlotView Model="{Binding ShadowPlotModel}" />`


График автоматически:

- растягивается вместе с окном,

- отображает линию без точек,

- показывает зависимость Площадь тени → Время.

- Его можно логарифмировать для лучшего просмотра.

<img width="786" height="493" alt="image" src="https://github.com/user-attachments/assets/c82a34e1-4ba9-46ff-97d0-0e6b22c5991e" />

## Производительность

Для больших количеств объектов (>2000) задействуются:

- фоновые вычисления (Task.Run)

- оптимизация структур данных

- при необходимости — `Parallel.For`

В результате приложение поддерживает до 1 000 000 расчётных объектов.
Если время будет больше 10000 с - вам будет предложен выбор продожения симуляции.
