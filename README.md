# ShadowScope — моделирование затенения динамическими объектами

ShadowScope — WPF-приложение для моделирования и визуализации площади тени, создаваемой движущимися сферическими объектами, проходящими через наклонённую плоскость перед экраном. Позволяет анализировать различные распределения и строить графики зависимости тени от времени.

---

<img width="1000" height="956" alt="scheme" src="https://github.com/user-attachments/assets/64fb3a4f-fa8b-4d27-b62c-dd69b5eecc4e" />

## Возможности

- Расчёт траекторий большого количества объектов (до **10 000**(придется подождать)).
- Поддержка распределений:
  - **Равномерное**
  - **Нормальное (Box–Muller)**
  - **Рэлея**
- Многопоточная вычислительная физика.
- Визуализация результатов через **OxyPlot**:
  - непрерывная линия без маркеров,
  - автоматическое масштабирование,
  - отзывчивое изменение размера.
- Отображение прогресса расчётов.
- Настраиваемые параметры сцены:
  - толщина плоскости,
  - угол наклона,
  - расстояние до экрана,
  - диаметр шаров,
  - скорость,
  - количество.

---

## Используемые формулы

### Нормальное распределение (Box–Muller)

```math
z = \sqrt{-2 \ln u_1} \cos(2\pi u_2)
```
```math
x=Clamp(0.5+z⋅0.15,0,1)
```
Распределение Рэлея
```math
r=σ
−2ln(1−u)
	​
```
```math
x=Clamp(r,0,1)
```
## Запуск

1. Открыть проект в Visual Studio 2022.

2. Убедиться, что установлен пакет:
   ` OxyPlot.Wpf `
4. Запустить проект: Debug → Start Debugging или F5.

## Графики

Используется:

`<oxy:PlotView Model="{Binding ShadowPlotModel}" />`


График автоматически:

- растягивается вместе с окном,

- отображает линию без точек,

- показывает зависимость Площадь тени → Время.

<img width="803" height="486" alt="image" src="https://github.com/user-attachments/assets/42ce7b28-30d3-4941-aed7-65cc3be6ea72" />

## Производительность

Для больших количеств объектов (>2000) задействуются:

- фоновые вычисления (Task.Run)

- оптимизация структур данных

- при необходимости — `Parallel.For`

В результате приложение поддерживает до 1 000 000 расчётных объектов.
ВНИМАНИЕ! Не рекомендуется запускать если время будет больше 10000 с.
